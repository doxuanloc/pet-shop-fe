{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/namduong/Documents/dev/petshop-project/frontend/src/components/Admin/Dashboard/Order/DashboardOrderCreate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nexport default function DashboardOrderCreate(props) {\n  _s();\n\n  const createForm = useRef();\n  const [tinh, setTinh] = useState([]);\n  const [huyen, setHuyen] = useState([]);\n  const [orderName, setOrderName] = useState(\"\");\n  const [orderEmail, setOrderEmail] = useState(\"\");\n  const [orderPhone, setOrderPhone] = useState(\"\");\n  const [orderAddress, setOrderAddress] = useState(\"\");\n  const [orderProvince, setOrderProvince] = useState(null);\n  const [orderDistric, setOrderDistric] = useState(null);\n  const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\");\n  const [provinceId, setProvinceId] = useState(\"\");\n  const [product, setProduct] = useState([]);\n  const [productList, setProductList] = useState([]);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    var listOrder = [];\n    var total = 0;\n\n    for (let i in productList) {\n      const data = {\n        id: productList[i]._id,\n        amount: productList[i].count\n      };\n      total += productList[i].productFinalPrice * productList[i].count;\n      listOrder.push(data);\n    }\n\n    axios.post('http://localhost:4000/order', {\n      orderName: orderName,\n      orderEmail: orderEmail,\n      orderPhone: orderPhone,\n      orderAddress: orderAddress,\n      orderTinh: orderProvince,\n      orderHuyen: orderDistric,\n      orderList: listOrder,\n      orderTotal: total,\n      orderPaymentMethod: orderPaymentMethod,\n      orderDate: new Date()\n    });\n    props.setCloseCreateFunc(false);\n    props.setToastFunc(true);\n  };\n\n  const [userList, setUserList] = useState([]);\n  const [user, setUser] = useState(\"\");\n  useEffect(() => {\n    axios.get(`http://localhost:4000/users/list`).then(res => {\n      setUserList(res.data);\n      res.data.filter(item => {\n        if (item.userEmail === user) {\n          setOrderName(item.userName);\n          setOrderEmail(item.userEmail);\n          setOrderPhone(item.userPhone);\n          setOrderProvince(item.userProvince);\n          setOrderDistric(item.userDistric);\n          setOrderAddress(item.userAddress);\n\n          if (item.userTinh !== \"\") {\n            tinh.filter(item2 => {\n              if (item.userTinh === item2.name) {\n                setProvinceId(item2.id);\n              }\n\n              return null;\n            });\n            setOrderProvince(item.userTinh);\n          }\n\n          if (item.userHuyen !== \"\") {\n            setOrderDistric(item.userHuyen);\n          }\n        }\n\n        return null;\n      });\n    });\n    axios.get(`http://localhost:4000/vietnam`).then(res => {\n      setTinh(res.data[0].tinh);\n      setHuyen(res.data[0].huyen);\n    });\n    axios.get(`http://localhost:4000/products`).then(res => {\n      setProduct(res.data);\n    });\n\n    if (user === \"\") {\n      setOrderName(\"\");\n      setOrderEmail(\"\");\n      setOrderPhone(\"\");\n      setOrderAddress(\"\");\n      setOrderProvince(\"\");\n      setProvinceId(\"\");\n    }\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"DashboardProductInfo\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-box-title flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-title-text\",\n          children: \"Order infomation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-title-close flex-center\",\n          onClick: () => {\n            props.setCloseCreateFunc(false);\n          },\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        encType: \"multipart/form-data\",\n        ref: createForm,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Already have an account?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"input\",\n              onChange: event => {\n                setUser(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this), userList.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.userEmail,\n                  children: item.userEmail\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 45\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              value: orderName || \"\",\n              onChange: event => {\n                setOrderName(event.target.value);\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"email\",\n              value: orderEmail || \"\",\n              onChange: event => {\n                setOrderEmail(event.target.value);\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"phone\",\n              value: orderPhone || \"\",\n              onChange: event => {\n                setOrderPhone(event.target.value);\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Province\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"input\",\n              value: orderProvince,\n              onChange: event => {\n                setProvinceId(event.target.selectedIndex);\n                setOrderProvince(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                disabled: true,\n                selected: true,\n                value: true,\n                children: \"select a province\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 33\n              }, this), tinh.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: item.name,\n                  children: item.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 41\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"District\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"input\",\n              value: \"orderDistric\",\n              onChange: event => {\n                setOrderDistric(event.target.value);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                disabled: true,\n                selected: true,\n                value: true,\n                children: \"select a district\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 33\n              }, this), huyen.map((item, index) => {\n                if (item.tinh_id === provinceId) {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.name,\n                    children: item.name\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 45\n                  }, this);\n                }\n\n                return null;\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"phone\",\n              value: orderAddress || \"\",\n              onChange: event => {\n                setOrderAddress(event.target.value);\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Items\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"input\",\n              style: {\n                height: '25px',\n                marginBottom: '10px'\n              },\n              value: \"\",\n              onChange: event => {\n                const isExists = (cartItems = [], item = {}) => {\n                  for (let cartItem of cartItems) {\n                    if (cartItem._id === item._id) {\n                      return cartItem;\n                    }\n                  }\n\n                  return false;\n                };\n\n                const value = event.target.value;\n                const virtualCart = [...productList];\n\n                if (productList.length === 0) {\n                  virtualCart.push({ ...JSON.parse(value),\n                    count: 1\n                  });\n                } else {\n                  if (!isExists(productList, JSON.parse(value))) {\n                    virtualCart.push({ ...JSON.parse(value),\n                      count: 1\n                    });\n                  } else {\n                    for (let i = 0; i < virtualCart.length; i++) {\n                      if (virtualCart[i]._id === JSON.parse(value)._id) {\n                        virtualCart[i].count += 1;\n                        break;\n                      }\n                    }\n                  }\n                }\n\n                setProductList(virtualCart);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                selected: true,\n                value: true,\n                children: \"select a product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 33\n              }, this), product.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: JSON.stringify(item),\n                  children: [\"Name: \", item.productName, \", Price: \", item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 41\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              style: {\n                overflowY: 'hidden',\n                flexWrap: 'wrap'\n              },\n              children: productList && productList.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"order-list-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item.productColor[0].productImg[0],\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      width: '55%'\n                    },\n                    children: item.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      alignItems: 'center'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      id: index,\n                      className: \"count-btn flex-center\",\n                      onClick: event => {\n                        const arr = [...productList];\n                        const id = event.target.id;\n\n                        for (let i in arr) {\n                          if (id === i) {\n                            if (arr[i].count === 0) {\n                              return;\n                            } else {\n                              arr[i].count -= 1;\n                            }\n                          }\n                        }\n\n                        setProductList(arr);\n                      },\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: item.count\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      id: index,\n                      className: \"count-btn flex-center\",\n                      onClick: event => {\n                        const arr = [...productList];\n                        const id = event.target.id;\n\n                        for (let i in arr) {\n                          if (id === i) {\n                            arr[i].count += 1;\n                          }\n                        }\n\n                        setProductList(arr);\n                      },\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 321,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: index,\n                    className: \"delete-order-item flex-center\",\n                    onClick: event => {\n                      var arr = [];\n                      const id = event.target.id;\n\n                      for (let i in productList) {\n                        if (i !== id) {\n                          arr.push(productList[i]);\n                        }\n                      }\n\n                      setProductList(arr);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                      style: {\n                        pointerEvents: 'none'\n                      },\n                      icon: faTimes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 349,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 49\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 45\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Payment method\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"input\",\n              type: \"text\",\n              value: orderPaymentMethod || \"\",\n              onChange: event => {\n                setOrderPaymentMethod(event.target.value);\n              },\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cash on delivery\",\n                children: \"Cash On Delivery\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"paypal\",\n                children: \"ZaloPay\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-center\",\n          style: {\n            marginTop: '40px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"create-box-btn btn\",\n            children: \"Create order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DashboardOrderCreate, \"PNqQPBMg+xzb8YFEhpIRl3JMa2c=\");\n\n_c = DashboardOrderCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"DashboardOrderCreate\");","map":{"version":3,"sources":["/Users/namduong/Documents/dev/petshop-project/frontend/src/components/Admin/Dashboard/Order/DashboardOrderCreate.js"],"names":["React","useEffect","useRef","useState","FontAwesomeIcon","faTimes","axios","DashboardOrderCreate","props","createForm","tinh","setTinh","huyen","setHuyen","orderName","setOrderName","orderEmail","setOrderEmail","orderPhone","setOrderPhone","orderAddress","setOrderAddress","orderProvince","setOrderProvince","orderDistric","setOrderDistric","orderPaymentMethod","setOrderPaymentMethod","provinceId","setProvinceId","product","setProduct","productList","setProductList","onSubmit","event","preventDefault","listOrder","total","i","data","id","_id","amount","count","productFinalPrice","push","post","orderTinh","orderHuyen","orderList","orderTotal","orderDate","Date","setCloseCreateFunc","setToastFunc","userList","setUserList","user","setUser","get","then","res","filter","item","userEmail","userName","userPhone","userProvince","userDistric","userAddress","userTinh","item2","name","userHuyen","target","value","map","index","selectedIndex","tinh_id","height","marginBottom","isExists","cartItems","cartItem","virtualCart","length","JSON","parse","stringify","productName","toString","replace","overflowY","flexWrap","productColor","productImg","width","display","alignItems","arr","pointerEvents","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\nimport axios from 'axios'\n\nexport default function DashboardOrderCreate(props) {\n\n    const createForm = useRef();\n\n    const [tinh, setTinh] = useState([])\n    const [huyen, setHuyen] = useState([])\n\n    const [orderName, setOrderName] = useState(\"\")\n    const [orderEmail, setOrderEmail] = useState(\"\")\n    const [orderPhone, setOrderPhone] = useState(\"\")\n    const [orderAddress, setOrderAddress] = useState(\"\")\n    const [orderProvince, setOrderProvince] = useState(null)\n    const [orderDistric, setOrderDistric] = useState(null)\n    const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\")\n    const [provinceId, setProvinceId] = useState(\"\")\n    const [product, setProduct] = useState([])\n    const [productList, setProductList] = useState([])\n    \n\n    const onSubmit = (event) => {\n        event.preventDefault()\n\n        var listOrder = []\n        var total = 0;\n        for(let i in productList) {\n            const data = {\n                id: productList[i]._id,\n                amount: productList[i].count,\n            }\n            total += productList[i].productFinalPrice * productList[i].count\n            listOrder.push(data)\n        }\n\n        axios.post('http://localhost:4000/order', {\n            orderName: orderName,\n            orderEmail: orderEmail,\n            orderPhone: orderPhone,\n            orderAddress: orderAddress,\n            orderTinh: orderProvince,\n            orderHuyen: orderDistric,\n            orderList: listOrder,\n            orderTotal: total,\n            orderPaymentMethod: orderPaymentMethod,\n            orderDate: new Date()\n        })\n        props.setCloseCreateFunc(false);\n        props.setToastFunc(true);\n    }\n\n    const [userList, setUserList] = useState([])\n    const [user, setUser] = useState(\"\")\n\n    useEffect(()=>{\n        axios.get(`http://localhost:4000/users/list`)\n            .then(res => {\n                setUserList(res.data)\n                res.data.filter((item)=>{\n                    if (item.userEmail === user) {\n                        setOrderName(item.userName)\n                        setOrderEmail(item.userEmail)\n                        setOrderPhone(item.userPhone)\n                        setOrderProvince(item.userProvince)\n                        setOrderDistric(item.userDistric)\n                        setOrderAddress(item.userAddress)\n                        if (item.userTinh !== \"\") {\n                            tinh.filter((item2)=>{\n                                if (item.userTinh === item2.name) {\n                                    setProvinceId(item2.id)\n                                }\n                                return null\n                            })\n                            setOrderProvince(item.userTinh)\n                        }\n                        if (item.userHuyen !== \"\") {\n                            setOrderDistric(item.userHuyen)\n                        }\n                    }\n                    return null\n                })\n            }\n        )\n        axios.get(`http://localhost:4000/vietnam`)\n            .then(res => {\n                setTinh(res.data[0].tinh)\n                setHuyen(res.data[0].huyen)\n            }\n        )\n        axios.get(`http://localhost:4000/products`)\n            .then(res => {\n                setProduct(res.data)\n            }\n        )\n        if (user === \"\") {\n            setOrderName(\"\")\n            setOrderEmail(\"\")\n            setOrderPhone(\"\")\n            setOrderAddress(\"\")\n            setOrderProvince(\"\")\n            setProvinceId(\"\")\n        }\n    },[user])\n    \n    return (\n        <div className=\"DashboardProductInfo\">\n            <div className=\"create-box\"> \n                <div className=\"create-box-title flex\">\n                    <div className=\"create-box-title-text\">\n                        Order infomation\n                    </div>\n                    <div  \n                        className=\"create-box-title-close flex-center\"\n                        onClick={()=>{\n                            props.setCloseCreateFunc(false);\n                        }}\n                    >\n                        <FontAwesomeIcon icon={faTimes}/>\n                    </div>\n                </div>\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Already have an account?</div>\n                        <div className=\"dashboard-right\">\n                            <select \n                                className=\"input\"\n                                onChange={(event)=>{\n                                    setUser(event.target.value)\n                                }}\n                            >\n                                <option></option>\n                                {\n                                    userList.map((item,index)=>{\n                                        return (\n                                            <option\n                                                key={index}\n                                                value={item.userEmail}\n                                            >{item.userEmail}</option>\n                                        )\n                                    })\n                                }\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Name</div>\n                        <div className=\"dashboard-right\">\n                            <input \n                                type=\"text\" name=\"name\" \n                                value={orderName || \"\"}\n                                onChange={(event)=>{\n                                    setOrderName(event.target.value)\n                                }} required\n                            ></input>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Email</div>\n                        <div className=\"dashboard-right\">\n                            <input \n                                type=\"text\" name=\"email\" \n                                value={orderEmail || \"\"}\n                                onChange={(event)=>{\n                                    setOrderEmail(event.target.value)\n                                }} required\n                                ></input>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Phone</div>\n                        <div className=\"dashboard-right\">\n                            <input \n                                type=\"text\" name=\"phone\" \n                                value={orderPhone || \"\"}\n                                onChange={(event)=>{\n                                    setOrderPhone(event.target.value)\n                                }} required\n                                ></input>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Province</div>\n                        <div className=\"dashboard-right\">\n                            <select \n                                className=\"input\"\n                                value={orderProvince}\n                                onChange={(event)=>{\n                                    setProvinceId(event.target.selectedIndex)\n                                    setOrderProvince(event.target.value)\n                                }}\n                                >\n                                <option disabled selected value>select a province</option>\n                                {tinh.map((item, index) => {\n                                    return (\n                                        <option \n                                            key={index}\n                                            value={item.name}\n                                        >{item.name}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">District</div>\n                        <div className=\"dashboard-right\">\n                            <select \n                                className=\"input\"\n                                value={\"orderDistric\"}\n                                onChange={(event)=>{\n                                    setOrderDistric(event.target.value)\n                                }}\n                            >\n                                <option disabled selected value>select a district</option>\n                                {huyen.map((item, index) => {\n                                    if (item.tinh_id === provinceId) {\n                                        return (\n                                            <option\n                                                key={index}\n                                                value={item.name}\n                                            >{item.name}</option>\n                                        )\n                                    }\n                                    return null\n                                })}\n                            </select>\n                        </div>\n                    </div>\n            \n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Address</div>\n                        <div className=\"dashboard-right\">\n                            <input \n                                type=\"text\" name=\"phone\" \n                                value={orderAddress || \"\"}\n                                onChange={(event)=>{\n                                    setOrderAddress(event.target.value)\n                                }} required\n                                ></input>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Items</div>\n                        <div className=\"dashboard-right\">\n                            <select \n                                className=\"input\"\n                                style={{height: '25px', marginBottom: '10px'}}\n                                value={\"\"}\n                                onChange={(event)=>{\n                                    const isExists = (cartItems = [], item = {}) => {\n                                        for (let cartItem of cartItems) {\n                                            if (cartItem._id === item._id) {\n                                                return cartItem;\n                                            }\n                                        }\n                                        return false;\n                                    }\n\n                                    const value = event.target.value\n                                    const virtualCart = [...productList] \n                                    if (productList.length === 0) {\n                                        virtualCart.push({...JSON.parse(value), count: 1})\n                                    } else {\n                                        if (!isExists(productList, JSON.parse(value))) {\n                                            virtualCart.push({...JSON.parse(value), count: 1})\n                                        } else {\n                                            for (let i = 0; i < virtualCart.length; i++) {\n                                                if (virtualCart[i]._id === JSON.parse(value)._id) {\n                                                    virtualCart[i].count += 1\n                                                    break\n                                                }\n                                            }\n                                        }\n                                    }\n                                    setProductList(virtualCart)\n                                }}\n                            >\n                                <option selected value>select a product</option>\n                                {product.map((item, index) => {\n                                    return (\n                                        <option\n                                            key={index}\n                                            value={JSON.stringify(item)}\n                                        >Name: {item.productName}, Price: {item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}</option>\n                                    )\n                                })}\n                            </select>\n                            <div className=\"\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\n                                { productList && \n                                    productList.map((item, index) => {\n                                        return (\n                                            <div \n                                                key={index}\n                                                className=\"order-list-item\"\n                                            >\n                                                <img src={item.productColor[0].productImg[0]} alt=\"\"></img>\n                                                <p style={{width: '55%'}}>{item.productName}</p>\n                                                <div style={{display: 'flex', alignItems: 'center'}}>\n                                                    <p \n                                                        id={index}\n                                                        className=\"count-btn flex-center\"\n                                                        onClick={(event)=>{\n                                                            const arr = [...productList]\n                                                            const id = event.target.id;\n                                                            for (let i in arr) {\n                                                                if (id === i) {\n                                                                    if (arr[i].count === 0) {\n                                                                        return\n                                                                    } else {\n                                                                        arr[i].count -= 1\n                                                                    }\n                                                                }\n                                                            }\n                                                            setProductList(arr)\n                                                        }}\n                                                    >-</p>\n                                                    <p>{item.count}</p>\n                                                    <p \n                                                        id={index}\n                                                        className=\"count-btn flex-center\"\n                                                        onClick={(event)=>{\n                                                            const arr = [...productList]\n                                                            const id = event.target.id;\n                                                            for (let i in arr) {\n                                                                if (id === i) {\n                                                                    arr[i].count += 1\n                                                                }\n                                                            }\n                                                            setProductList(arr)\n                                                        }}\n                                                    >+</p>\n                                                </div>\n                                                <div \n                                                    id={index}\n                                                    className=\"delete-order-item flex-center\"\n                                                    onClick={(event)=>{\n                                                        var arr = [];\n                                                        const id = event.target.id;\n                                                        for (let i in productList) {\n                                                            if (i !== id) {\n                                                                arr.push(productList[i])\n                                                            }\n                                                        }\n                                                        setProductList(arr)\n                                                    }}>\n                                                    <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\n                                                </div>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Payment method</div>\n                        <div className=\"dashboard-right\">\n                            <select \n                                className=\"input\"\n                                type=\"text\"\n                                value={orderPaymentMethod || \"\"}\n                                onChange={(event)=>{\n                                    setOrderPaymentMethod(event.target.value)\n                                }} required\n                            >\n                                <option></option>\n                                <option value=\"cash on delivery\">Cash On Delivery</option> \n                                <option value=\"paypal\">ZaloPay</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\n                        <button className=\"create-box-btn btn\">\n                            Create order\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}