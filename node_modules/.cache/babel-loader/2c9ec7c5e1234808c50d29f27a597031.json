{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/namduong/Documents/dev/petshop-project/frontend/src/components/Admin/Dashboard/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../../../App.css';\nimport '../../../Styles/Dashboard.css';\nimport DashboardBody from './DashboardBody';\nimport DashboardMenu from './DashboardMenu';\nimport { faEnvelope, faFileInvoice, faHome, faInbox, faNewspaper, faTshirt, faUser } from '@fortawesome/free-solid-svg-icons';\nimport socketIOClient from \"socket.io-client\";\nimport Axios from 'axios';\nimport { withRouter } from 'react-router-dom';\nconst ENDPOINT = \"http://localhost:4000\";\n\nfunction Dashboard(props) {\n  _s();\n\n  const menuItems = [{\n    id: \"1\",\n    name: \"Dashboard\",\n    icon: faHome\n  }, {\n    id: \"2\",\n    name: \"Live Chat\",\n    icon: faInbox\n  }, {\n    id: \"3\",\n    name: \"Orders\",\n    icon: faFileInvoice\n  }, {\n    id: \"4\",\n    name: \"Products\",\n    icon: faTshirt\n  }, {\n    id: \"5\",\n    name: \"Blog\",\n    icon: faNewspaper\n  }, {\n    id: \"6\",\n    name: \"Users\",\n    icon: faUser\n  }, {\n    id: \"7\",\n    name: \"Subscribers\",\n    icon: faEnvelope\n  }];\n  const [tabId, setTabId] = useState(\"1\");\n  const [openMenu, setOpenMenu] = useState(true);\n  const [openMenuMobile, setOpenMenuMobile] = useState(true);\n  const [productId, setProductId] = useState(\"\");\n  const socket = socketIOClient(ENDPOINT);\n  const [orderNotice, setOrderNotice] = useState(null);\n  const [userInfo, setUserInfo] = useState(null);\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      Axios.get(`http://localhost:4000/users/${localStorage.getItem('user-id')}`, {\n        headers: {\n          \"authorization\": `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => {\n        setUserInfo(res.data.user);\n        const userInfo = res.data.user;\n\n        if (userInfo.userRole === 'admin') {\n          socket.emit('join', {\n            sessionId: 'admin',\n            isAdmin: true\n          });\n          socket.on(\"placeAnOrder-notice\", function (data) {\n            setOrderNotice(data);\n          });\n        } else {\n          localStorage.setItem(\"errLogin\", \"You do not have Administrator access!\");\n          props.history.push('/admin');\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      props.history.push('/admin');\n    }\n  }, []);\n\n  const setTabIdOnClick = id => {\n    setTabId(id);\n  };\n\n  const setOpenMenuOnClick = () => {\n    if (window.innerWidth <= 1110) {\n      setOpenMenu(true);\n      if (openMenuMobile) setOpenMenuMobile(false);else setOpenMenuMobile(true);\n    } else {\n      if (openMenu) setOpenMenu(false);else setOpenMenu(true);\n    }\n  };\n\n  const [openCreate, setOpenCreate] = useState(false);\n\n  const setOpenCreateFunc = () => {\n    document.body.style.overflow = 'hidden';\n    setOpenCreate(true);\n  };\n\n  const setCloseCreateFunc = bool => {\n    document.body.style.overflow = 'unset';\n    setOpenCreate(bool);\n  };\n\n  const [openEdit, setOpenEdit] = useState(false);\n\n  const setOpenEditFunc = event => {\n    document.body.style.overflow = 'hidden';\n    setOpenEdit(true);\n    setProductId(event.target.id);\n  };\n\n  const setCloseEditFunc = bool => {\n    document.body.style.overflow = 'unset';\n    setOpenEdit(bool);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Dashboard flex\",\n    children: [/*#__PURE__*/_jsxDEV(DashboardMenu, {\n      setTabIdOnClick: setTabIdOnClick,\n      setOpenMenuOnClick: setOpenMenuOnClick,\n      tabId: tabId,\n      menuItems: menuItems,\n      openMenu: openMenu,\n      openMenuMobile: openMenuMobile,\n      setCloseCreateFunc: setCloseCreateFunc,\n      setCloseEditFunc: setCloseEditFunc,\n      userInfo: userInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DashboardBody, {\n      tabId: tabId,\n      menuItems: menuItems,\n      openMenu: openMenu,\n      openMenuMobile: openMenuMobile,\n      openCreate: openCreate,\n      openEdit: openEdit,\n      setOpenMenuOnClick: setOpenMenuOnClick,\n      setOpenCreateFunc: setOpenCreateFunc,\n      setCloseCreateFunc: setCloseCreateFunc,\n      setOpenEditFunc: setOpenEditFunc,\n      setCloseEditFunc: setCloseEditFunc,\n      productId: productId,\n      orderNotice: orderNotice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 132,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Dashboard, \"1nPVh4fdCKy14xrwbnNvtB4TfPs=\");\n\n_c = Dashboard;\nexport default _c2 = withRouter(Dashboard);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Dashboard\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/namduong/Documents/dev/petshop-project/frontend/src/components/Admin/Dashboard/Dashboard.js"],"names":["React","useEffect","useState","DashboardBody","DashboardMenu","faEnvelope","faFileInvoice","faHome","faInbox","faNewspaper","faTshirt","faUser","socketIOClient","Axios","withRouter","ENDPOINT","Dashboard","props","menuItems","id","name","icon","tabId","setTabId","openMenu","setOpenMenu","openMenuMobile","setOpenMenuMobile","productId","setProductId","socket","orderNotice","setOrderNotice","userInfo","setUserInfo","localStorage","getItem","get","headers","then","res","data","user","userRole","emit","sessionId","isAdmin","on","setItem","history","push","catch","err","console","log","setTabIdOnClick","setOpenMenuOnClick","window","innerWidth","openCreate","setOpenCreate","setOpenCreateFunc","document","body","style","overflow","setCloseCreateFunc","bool","openEdit","setOpenEdit","setOpenEditFunc","event","target","setCloseEditFunc"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport '../../../App.css'\nimport '../../../Styles/Dashboard.css'\nimport DashboardBody from './DashboardBody'\nimport DashboardMenu from './DashboardMenu'\nimport { faEnvelope, faFileInvoice, faHome, faInbox, faNewspaper, faTshirt, faUser } from '@fortawesome/free-solid-svg-icons'\n\nimport socketIOClient from \"socket.io-client\" \nimport Axios from 'axios'\nimport { withRouter } from 'react-router-dom'\n\nconst ENDPOINT = \"http://localhost:4000\";\n\nfunction Dashboard(props) {\n    const menuItems = [\n        {\n            id: \"1\",\n            name: \"Dashboard\",\n            icon: faHome\n        },\n        {\n            id: \"2\",\n            name: \"Live Chat\",\n            icon: faInbox\n        }, \n        {\n            id: \"3\",\n            name: \"Orders\",\n            icon: faFileInvoice\n        },\n        {\n            id: \"4\",\n            name: \"Products\",\n            icon: faTshirt\n        },\n        {\n            id: \"5\",\n            name: \"Blog\",\n            icon: faNewspaper\n        },\n        {\n            id: \"6\",\n            name: \"Users\",\n            icon: faUser\n        }, \n        {\n            id: \"7\",\n            name: \"Subscribers\",\n            icon: faEnvelope\n        },\n    ]\n    const [tabId, setTabId] = useState(\"1\");\n    const [openMenu, setOpenMenu] = useState(true); \n    const [openMenuMobile, setOpenMenuMobile] = useState(true); \n    const [productId, setProductId] = useState(\"\")\n\n    const socket = socketIOClient(ENDPOINT);\n\n    const [orderNotice, setOrderNotice] = useState(null) \n    const [userInfo, setUserInfo] = useState(null)\n\n    useEffect(()=>{\n        if (localStorage.getItem('token')) {\n            Axios.get(`http://localhost:4000/users/${localStorage.getItem('user-id')}`, { \n                headers: {\"authorization\" : `Bearer ${localStorage.getItem('token')}`}\n            })\n            .then(res => {\n                setUserInfo(res.data.user)\n                const userInfo = res.data.user; \n                if (userInfo.userRole === 'admin') {\n                    socket.emit('join', {\n                        sessionId: 'admin',\n                        isAdmin: true\n                    })\n                    socket.on(\"placeAnOrder-notice\", function(data) {\n                        setOrderNotice(data)\n                    }) \n                } else {\n                    localStorage.setItem(\"errLogin\", \"You do not have Administrator access!\")\n                    props.history.push('/admin') \n                }\n            })\n            .catch(err => { \n                console.log(err)\n            })\n        } else {\n            props.history.push('/admin')\n        }\n    },[]) \n\n    const setTabIdOnClick = (id) => {\n        setTabId(id);\n    }\n\n    const setOpenMenuOnClick = () => {\n        if (window.innerWidth <= 1110) {\n            setOpenMenu(true);\n            if (openMenuMobile) setOpenMenuMobile(false);\n            else setOpenMenuMobile(true);\n        } else {\n            if (openMenu) setOpenMenu(false);\n            else setOpenMenu(true);\n        }\n    }\n\n    const [openCreate, setOpenCreate] = useState(false)\n\n    const setOpenCreateFunc = () => {\n        document.body.style.overflow = 'hidden';\n        setOpenCreate(true)\n    }\n\n    const setCloseCreateFunc = (bool) => {\n        document.body.style.overflow = 'unset';\n        setOpenCreate(bool)\n    }\n\n    const [openEdit, setOpenEdit] = useState(false)\n\n    const setOpenEditFunc = (event) => {\n        document.body.style.overflow = 'hidden';\n        setOpenEdit(true)\n        setProductId(event.target.id)\n    }\n    \n    const setCloseEditFunc = (bool) => {\n        document.body.style.overflow = 'unset';\n        setOpenEdit(bool)\n    }\n\n    return (\n        <div className=\"Dashboard flex\">\n            <DashboardMenu\n                setTabIdOnClick = {setTabIdOnClick}\n                setOpenMenuOnClick = {setOpenMenuOnClick}\n                tabId = {tabId}\n                menuItems = {menuItems}\n                openMenu = {openMenu} \n                openMenuMobile = {openMenuMobile}\n                setCloseCreateFunc={setCloseCreateFunc}\n                setCloseEditFunc={setCloseEditFunc}\n                userInfo={userInfo}\n            />\n            <DashboardBody\n                tabId = {tabId}\n                menuItems = {menuItems}\n                openMenu = {openMenu}\n                openMenuMobile = {openMenuMobile}\n                openCreate = {openCreate}\n                openEdit = {openEdit}\n                setOpenMenuOnClick = {setOpenMenuOnClick}\n                setOpenCreateFunc={setOpenCreateFunc}\n                setCloseCreateFunc={setCloseCreateFunc}\n                setOpenEditFunc={setOpenEditFunc}\n                setCloseEditFunc={setCloseEditFunc}\n                productId={productId}\n                orderNotice={orderNotice}\n            />\n        </div>\n    )\n}\nexport default withRouter(Dashboard)"]},"metadata":{},"sourceType":"module"}