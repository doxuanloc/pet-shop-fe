{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/xuanloc/Documents/pet-shop/PetShopProject/frontend/src/Pages/Product.js\",\n    _s = $RefreshSig$();\n\nimport '../App.css';\nimport Header from '../components/Home/Header';\nimport Newsletter from '../components/Home/Newsletter';\nimport Footer from '../components/Home/Footer';\nimport ProductDetail from '../components/Shop/ProductDetail';\nimport ShopFeatures from '../components/Shop/ShopFeatures';\nimport ProductAsk from '../components/Shop/ProductAsk'; // import ProductRecommend from '../components/Shop/ProductRecommend';\n\nimport ProductReview from '../components/Shop/ProductReview';\nimport ProductNews from '../components/Shop/ProductNews';\nimport { withRouter } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction ProductForDog(props) {\n  _s();\n\n  const [product, setProduct] = useState(null);\n  useEffect(() => {\n    axios.get(`http://localhost:4000/products`).then(res => {\n      for (let i in res.data) {\n        if (res.data[i].productCate === props.location.pathname.substr(1)) {\n          setProduct(res.data[i]);\n        }\n      }\n    });\n    axios.get(`http://localhost:4000/news`).then(res => {\n      setProduct(res.data[i]);\n    });\n    window.scrollTo(0, 0);\n  }, [props.location.pathname]);\n\n  const handleClick = () => {\n    smoothScroll.scrollTo('review');\n  };\n\n  var smoothScroll = {\n    timer: null,\n    stop: function () {\n      clearTimeout(this.timer);\n    },\n    scrollTo: function (id, callback) {\n      var settings = {\n        duration: 1000,\n        easing: {\n          outQuint: function (x, t, b, c, d) {\n            return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n          }\n        }\n      };\n      var percentage;\n      var startTime;\n      var node = document.getElementById(id);\n      var nodeTop = node.offsetTop;\n      var nodeHeight = node.offsetHeight;\n      var body = document.body;\n      var html = document.documentElement;\n      var height = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      var windowHeight = window.innerHeight;\n      var offset = window.pageYOffset;\n      var delta = nodeTop - offset;\n      var bottomScrollableY = height - windowHeight;\n      var targetY = bottomScrollableY < delta ? bottomScrollableY - (height - nodeTop - nodeHeight + offset) : delta - 30;\n      startTime = Date.now();\n      percentage = 0;\n\n      if (this.timer) {\n        clearInterval(this.timer);\n      }\n\n      function step() {\n        var yScroll;\n        var elapsed = Date.now() - startTime;\n\n        if (elapsed > settings.duration) {\n          clearTimeout(this.timer);\n        }\n\n        percentage = elapsed / settings.duration;\n\n        if (percentage > 1) {\n          clearTimeout(this.timer);\n\n          if (callback) {\n            callback();\n          }\n        } else {\n          yScroll = settings.easing.outQuint(0, elapsed, offset, targetY, settings.duration);\n          window.scrollTo(0, yScroll);\n          this.timer = setTimeout(step, 10);\n        }\n      }\n\n      this.timer = setTimeout(step, 10);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ProductForDog\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), product && /*#__PURE__*/_jsxDEV(ProductDetail, {\n      product: product,\n      scrollOnClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(ShopFeatures, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductAsk, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), product && /*#__PURE__*/_jsxDEV(ProductReview, {\n      product: product\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(ProductNews, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Newsletter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProductForDog, \"Z7FRHGbVHGCoYLuEmDZnBWnFyd0=\");\n\n_c = ProductForDog;\nexport default _c2 = withRouter(ProductForDog);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProductForDog\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/xuanloc/Documents/pet-shop/PetShopProject/frontend/src/Pages/Product.js"],"names":["Header","Newsletter","Footer","ProductDetail","ShopFeatures","ProductAsk","ProductReview","ProductNews","withRouter","useEffect","useState","axios","ProductForDog","props","product","setProduct","get","then","res","i","data","productCate","location","pathname","substr","window","scrollTo","handleClick","smoothScroll","timer","stop","clearTimeout","id","callback","settings","duration","easing","outQuint","x","t","b","c","d","percentage","startTime","node","document","getElementById","nodeTop","offsetTop","nodeHeight","offsetHeight","body","html","documentElement","height","Math","max","scrollHeight","clientHeight","windowHeight","innerHeight","offset","pageYOffset","delta","bottomScrollableY","targetY","Date","now","clearInterval","step","yScroll","elapsed","setTimeout"],"mappings":"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","sourcesContent":["import '../App.css';\nimport Header from '../components/Home/Header'; \nimport Newsletter from '../components/Home/Newsletter';\nimport Footer from '../components/Home/Footer'; \nimport ProductDetail from '../components/Shop/ProductDetail';\nimport ShopFeatures from '../components/Shop/ShopFeatures';\nimport ProductAsk from '../components/Shop/ProductAsk';\n// import ProductRecommend from '../components/Shop/ProductRecommend';\nimport ProductReview from '../components/Shop/ProductReview';\nimport ProductNews from '../components/Shop/ProductNews';\nimport { withRouter } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction ProductForDog(props) { \n\n    const [product, setProduct] = useState(null)\n\n    useEffect(()=>{\n        axios.get(`http://localhost:4000/products`)\n            .then(res => {\n                for(let i in res.data) { \n                    if (res.data[i].productCate === props.location.pathname.substr(1)) {\n                        setProduct(res.data[i])\n                    }\n                }\n            })\n        axios.get(`http://localhost:4000/news`)\n            .then(res => { \n                setProduct(res.data[i]) \n            })\n        window.scrollTo(0,0)\n    }, [props.location.pathname]) \n    \n    const handleClick = () => {\n        smoothScroll.scrollTo('review'); \n    }\n    \n    var smoothScroll = {\n        \n        timer: null,\n    \n        stop: function () {\n            clearTimeout(this.timer);\n        },\n    \n        scrollTo: function (id, callback) {\n            var settings = {\n                duration: 1000,\n                easing: {\n                    outQuint: function (x, t, b, c, d) {\n                        return c*((t=t/d-1)*t*t*t*t + 1) + b;\n                    }\n                }\n            };\n            var percentage;\n            var startTime;\n            var node = document.getElementById(id);\n            var nodeTop = node.offsetTop;\n            var nodeHeight = node.offsetHeight;\n            var body = document.body;\n            var html = document.documentElement;\n            var height = Math.max(\n                body.scrollHeight,\n                body.offsetHeight,\n                html.clientHeight,\n                html.scrollHeight,\n                html.offsetHeight\n            );\n            var windowHeight = window.innerHeight\n            var offset = window.pageYOffset;\n            var delta = nodeTop - offset;\n            var bottomScrollableY = height - windowHeight;\n            var targetY = (bottomScrollableY < delta) ?\n                (bottomScrollableY - (height - nodeTop - nodeHeight + offset)):\n                delta - 30;\n    \n            startTime = Date.now();\n            percentage = 0;\n    \n            if (this.timer) {\n                clearInterval(this.timer);\n            }\n    \n            function step () {\n                var yScroll;\n                var elapsed = Date.now() - startTime;\n    \n                if (elapsed > settings.duration) {\n                    clearTimeout(this.timer);\n                }\n    \n                percentage = elapsed / settings.duration;\n    \n                if (percentage > 1) {\n                    clearTimeout(this.timer);\n    \n                    if (callback) {\n                        callback();\n                    }\n                } else {\n                    yScroll = settings.easing.outQuint(0, elapsed, offset, targetY, settings.duration);\n                    window.scrollTo(0, yScroll);\n                    this.timer = setTimeout(step, 10);     \n                }\n            }\n    \n            this.timer = setTimeout(step, 10);\n        }\n    };\n\n    return (\n        <div className=\"ProductForDog\">\n            <Header/>\n            { product &&\n                <ProductDetail\n                    product={product}\n                    scrollOnClick={handleClick}\n                />\n            }\n            <ShopFeatures/>\n            <ProductAsk/>\n            { product &&\n                <ProductReview\n                    product={product}/>\n            }\n            {/* <ProductRecommend/> */}\n            <ProductNews/>\n            <Newsletter/>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default withRouter(ProductForDog);\n"]},"metadata":{},"sourceType":"module"}