{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/namduong/Documents/dev/petshop-project/frontend/src/components/Admin/Dashboard/Product/DashboardProductCreate.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\nexport default function DashboardProductCreate(props) {\n  _s();\n\n  const createForm = useRef();\n  const cateInput = useRef();\n  const [isCheckedSmall, setIsCheckedSmall] = useState(false);\n  const [isCheckedMedium, setIsCheckedMedium] = useState(false);\n  const [isCheckedLarge, setIsCheckedLarge] = useState(false);\n  const [inputValue, setInputValue] = useState([]);\n  const [cate, setCate] = useState([]);\n  const [cateValue, setCateValue] = useState(\"\");\n  const [file, setFile] = useState([]);\n  const [productCateList, setProductCateList] = useState([]);\n  const [productImg, setProductImg] = useState([]);\n\n  const handleOnChange = event => {\n    setInputValue({ ...inputValue,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:4000/products`).then(res => {\n      const test = Object.values(res.data.reduce((a, {\n        productCate\n      }) => {\n        a[productCate] = a[productCate] || {\n          productCate\n        };\n        return a;\n      }, Object.create(null)));\n      setProductCateList(test);\n    });\n  }, []);\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    const formData = new FormData();\n    const imageArr = Array.from(file);\n    imageArr.forEach(image => {\n      formData.append('productImg', image);\n    });\n    formData.append(\"productName\", inputValue.name);\n    formData.append(\"productSale\", inputValue.sale);\n    formData.append(\"productPrice\", inputValue.price);\n    formData.append(\"productCate\", cateValue);\n    formData.append(\"productDes\", inputValue.des);\n    formData.append(\"productDate\", new Date());\n    axios.post('http://localhost:4000/products', formData, config);\n    props.setCloseCreateFunc(false);\n    props.setToastFunc(true);\n  };\n\n  const addNewCate = () => {\n    axios.post('http://localhost:4000/category', {\n      cateName: inputValue.cate\n    });\n    setCate(cate => [...cate, {\n      cateName: inputValue.cate\n    }]);\n    setCateValue(inputValue.cate);\n    cateInput.current.value = \"\";\n  };\n\n  const deleteImg = event => {\n    const virutalFile = [...file];\n    virutalFile.splice(event.target.id, 1);\n    setFile(virutalFile);\n    const items = [...productImg];\n    items.splice(event.target.id, 1);\n    setProductImg(items);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"DashboardProductInfo\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"create-box-title flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-title-text\",\n          children: \"Product infomation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-title-close flex-center\",\n          onClick: () => {\n            props.setCloseCreateFunc(false);\n          },\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faTimes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        encType: \"multipart/form-data\",\n        ref: createForm,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              onChange: handleOnChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Images \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: event => {\n                const files = event.target.files;\n\n                for (let i = 0; i < files.length; i++) {\n                  setProductImg(product => [...product, URL.createObjectURL(files[i])]);\n                }\n\n                const fileArr = Array.prototype.slice.call(files);\n                fileArr.forEach(item => {\n                  setFile(file => [...file, item]);\n                });\n              },\n              type: \"file\",\n              name: \"productImg\",\n              className: \"noborder\",\n              multiple: \"multiple\",\n              style: {\n                height: '50px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              style: {\n                overflowY: 'hidden',\n                flexWrap: 'wrap'\n              },\n              children: productImg && productImg.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"create-box-img\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: item,\n                    alt: \"\"\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"create-box-img-overlay\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      id: index,\n                      onClick: deleteImg,\n                      className: \"icon\",\n                      children: \"X\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 49\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 45\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Defaut price \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"price\",\n              placeholder: \"USD\",\n              onChange: handleOnChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Sale off \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right flex-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"%\",\n              style: {\n                width: \"100px\"\n              },\n              onChange: handleOnChange,\n              name: \"sale\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"From: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"fromdate\",\n              onChange: handleOnChange,\n              placeholder: \"dd/mm/yyyy\",\n              pattern: \"(^(((0[1-9]|1[0-9]|2[0-8])[\\\\/](0[1-9]|1[012]))|((29|30|31)[\\\\/](0[13578]|1[02]))|((29|30)[\\\\/](0[4,6,9]|11)))[\\\\/](19|[2-9][0-9])\\\\d\\\\d$)|(^29[\\\\/]02[\\\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"To: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"todate\",\n              onChange: handleOnChange,\n              placeholder: \"dd/mm/yyyy\",\n              pattern: \"(^(((0[1-9]|1[0-9]|2[0-8])[\\\\/](0[1-9]|1[012]))|((29|30|31)[\\\\/](0[13578]|1[02]))|((29|30)[\\\\/](0[4,6,9]|11)))[\\\\/](19|[2-9][0-9])\\\\d\\\\d$)|(^29[\\\\/]02[\\\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Category \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right flex-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              style: {\n                width: \"350px\"\n              },\n              onChange: event => {\n                setCateValue(event.target.value);\n              },\n              value: cateValue,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 33\n              }, this), cate.length > 0 && cate.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: item.cateName\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 45\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"cate\",\n              placeholder: \"New category?\",\n              style: {\n                margin: '0 10px'\n              },\n              onChange: handleOnChange,\n              ref: cateInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btn\",\n              style: {\n                fontSize: '14px',\n                fontFamily: 'sans-serif',\n                fontWeight: '300',\n                padding: '0 10px',\n                cursor: 'pointer',\n                width: '350px',\n                height: '30px'\n              },\n              onClick: addNewCate,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"create-box-row flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-left flex\",\n            children: \"Description \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-right\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"des\",\n              onChange: handleOnChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-center\",\n          style: {\n            marginTop: '40px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"create-box-btn btn\",\n            children: \"Add product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DashboardProductCreate, \"6E+p29qvlSRrOYYjxwC/KEq5Sac=\");\n\n_c = DashboardProductCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"DashboardProductCreate\");","map":{"version":3,"sources":["/Users/namduong/Documents/dev/petshop-project/frontend/src/components/Admin/Dashboard/Product/DashboardProductCreate.js"],"names":["React","useEffect","useRef","useState","FontAwesomeIcon","faTimes","axios","DashboardProductCreate","props","createForm","cateInput","isCheckedSmall","setIsCheckedSmall","isCheckedMedium","setIsCheckedMedium","isCheckedLarge","setIsCheckedLarge","inputValue","setInputValue","cate","setCate","cateValue","setCateValue","file","setFile","productCateList","setProductCateList","productImg","setProductImg","handleOnChange","event","target","name","value","get","then","res","test","Object","values","data","reduce","a","productCate","create","onSubmit","preventDefault","config","headers","formData","FormData","imageArr","Array","from","forEach","image","append","sale","price","des","Date","post","setCloseCreateFunc","setToastFunc","addNewCate","cateName","current","deleteImg","virutalFile","splice","id","items","files","i","length","product","URL","createObjectURL","fileArr","prototype","slice","call","item","height","overflowY","flexWrap","map","index","width","margin","fontSize","fontFamily","fontWeight","padding","cursor","marginTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\nimport axios from 'axios'\n\nexport default function DashboardProductCreate(props) {\n\n    const createForm = useRef();\n    const cateInput = useRef(); \n    const [isCheckedSmall, setIsCheckedSmall] = useState(false);\n    const [isCheckedMedium, setIsCheckedMedium] = useState(false);\n    const [isCheckedLarge, setIsCheckedLarge] = useState(false);\n    const [inputValue, setInputValue] = useState([])\n    const [cate, setCate] = useState([])\n    const [cateValue, setCateValue] = useState(\"\") \n    const [file, setFile] = useState([]) \n    const [productCateList, setProductCateList] = useState([])\n\n    const [productImg, setProductImg] = useState([])\n\n    const handleOnChange = (event) => {\n        setInputValue({...inputValue, [event.target.name]: event.target.value})\n    }\n    \n    useEffect(()=> {\n        axios.get(`http://localhost:4000/products`)\n            .then(res => {\n                const test = Object.values(res.data.reduce((a, {productCate}) => {\n                    a[productCate] = a[productCate] || {productCate};\n                    return a;\n                }, Object.create(null)));\n                setProductCateList(test)\n            }\n        ) \n    },[])\n\n    const onSubmit = (event) => {\n        event.preventDefault()\n        const config = {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        }\n\n        const formData = new FormData();\n\n        const imageArr = Array.from(file);\n        imageArr.forEach(image => {\n            formData.append('productImg', image);\n        });\n\n        formData.append(\"productName\", inputValue.name);\n        formData.append(\"productSale\", inputValue.sale);\n        formData.append(\"productPrice\", inputValue.price);\n        formData.append(\"productCate\", cateValue);  \n        formData.append(\"productDes\", inputValue.des); \n        formData.append(\"productDate\", new Date());\n        axios.post('http://localhost:4000/products', formData, config)\n        props.setCloseCreateFunc(false);\n        props.setToastFunc(true);\n    }\n\n    const addNewCate = () => {\n        axios.post('http://localhost:4000/category', {\n            cateName: inputValue.cate\n        })\n        setCate(cate=>[...cate, {cateName: inputValue.cate}])\n        setCateValue(inputValue.cate)\n        cateInput.current.value = \"\"\n    } \n    \n    const deleteImg = (event) => {\n        const virutalFile = [...file]\n        virutalFile.splice(event.target.id, 1)\n        setFile(virutalFile)\n\n        const items = [...productImg]\n        items.splice(event.target.id, 1)\n        setProductImg(items)\n    }\n\n    return (\n        <div className=\"DashboardProductInfo\">\n            <div className=\"create-box\"> \n                <div className=\"create-box-title flex\">\n                    <div className=\"create-box-title-text\">\n                        Product infomation\n                    </div>\n                    <div  \n                        className=\"create-box-title-close flex-center\"\n                        onClick={()=>{\n                            props.setCloseCreateFunc(false);\n                        }}\n                    >\n                        <FontAwesomeIcon icon={faTimes}/>\n                    </div>\n                </div>\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Name</div>\n                        <div className=\"dashboard-right\">\n                            <input type=\"text\" name=\"name\" onChange={handleOnChange} required></input>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Images </div>\n                        <div className=\"dashboard-right\">\n                            <input \n                                onChange={(event) => {\n                                    const files = event.target.files;\n                                    for (let i = 0; i< files.length; i++) {\n                                        setProductImg(product=>[...product, URL.createObjectURL(files[i])])\n                                    }\n                                    const fileArr = Array.prototype.slice.call(files)\n                                    fileArr.forEach(item=>{\n                                        \n                                        setFile(file=>[...file, item])\n                                    })\n                                }}\n                                type=\"file\"\n                                name=\"productImg\"\n                                className=\"noborder\"\n                                multiple=\"multiple\"\n                                style={{height: '50px'}}\n                            ></input>\n                            <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\n                                { productImg && \n                                    productImg.map((item, index) => {\n                                        return (\n                                            <div key={index} className=\"create-box-img\">\n                                                <img key={index} src={item} alt=\"\"></img>\n                                                <div \n                                                    className=\"create-box-img-overlay\"\n                                                >\n                                                    <p\n                                                        id={index}\n                                                        onClick={deleteImg}\n                                                        className=\"icon\">X\n                                                    </p>\n                                                </div>\n                                            </div>\n                                        )\n                                    })\n                                }\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Defaut price </div>\n                        <div className=\"dashboard-right\">\n                            <input type=\"number\" name=\"price\" placeholder=\"USD\" onChange={handleOnChange} required></input>\n                        </div>\n                    </div>\n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Sale off </div>\n                        <div className=\"dashboard-right flex-center\">\n                            <input type=\"number\" placeholder=\"%\" style={{ width: \"100px\"}} onChange={handleOnChange} name=\"sale\" required></input>\n                            <label>From: </label>\n                            <input type=\"date\"  name=\"fromdate\" onChange={handleOnChange} placeholder=\"dd/mm/yyyy\" pattern=\"(^(((0[1-9]|1[0-9]|2[0-8])[\\/](0[1-9]|1[012]))|((29|30|31)[\\/](0[13578]|1[02]))|((29|30)[\\/](0[4,6,9]|11)))[\\/](19|[2-9][0-9])\\d\\d$)|(^29[\\/]02[\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"/>\n                            <label>To: </label>\n                            <input type=\"date\"  name=\"todate\" onChange={handleOnChange} placeholder=\"dd/mm/yyyy\" pattern=\"(^(((0[1-9]|1[0-9]|2[0-8])[\\/](0[1-9]|1[012]))|((29|30|31)[\\/](0[13578]|1[02]))|((29|30)[\\/](0[4,6,9]|11)))[\\/](19|[2-9][0-9])\\d\\d$)|(^29[\\/]02[\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"/>\n                        </div>\n                    </div> \n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Category </div>\n                        <div className=\"dashboard-right flex-center\">\n                            <select style={{ width: \"350px\"}} \n                                onChange={(event) => {setCateValue(event.target.value)}}\n                                value={cateValue}>\n                                <option></option>\n                                { cate.length > 0 &&\n                                    cate.map((item, index) => {\n                                        return(\n                                            <option key={index}>{item.cateName}</option>\n                                        )\n                                    })\n                                }\n                            </select>\n                            <input type=\"text\" name=\"cate\" placeholder=\"New category?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={cateInput}></input>\n                            <div className=\"btn\" style={{\n                                fontSize: '14px',\n                                fontFamily: 'sans-serif',\n                                fontWeight: '300',\n                                padding: '0 10px',\n                                cursor: 'pointer',\n                                width: '350px',\n                                height: '30px'\n                            }}\n                            onClick={addNewCate}>\n                                Add\n                            </div>\n                        </div>\n                    </div>  \n                    <div className=\"create-box-row flex\">\n                        <div className=\"dashboard-left flex\">Description </div>\n                        <div className=\"dashboard-right\">\n                            <input type=\"text\" name=\"des\" onChange={handleOnChange} required></input>\n                        </div>\n                    </div>\n\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\n                    <button className=\"create-box-btn btn\">\n                        Add product\n                    </button>\n                </div>\n                </form>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}